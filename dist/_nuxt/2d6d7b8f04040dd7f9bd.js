(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{185:function(t,e,o){var content=o(192);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(39).default)("aee50764",content,!0,{sourceMap:!1})},189:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},190:function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>'},191:function(t,e,o){"use strict";var r=o(185);o.n(r).a},192:function(t,e,o){(e=o(38)(!1)).push([t.i,'.active-switch[data-v-871288e6]{position:relative;display:inline-block;width:50px;height:14px}.active-switch input[data-v-871288e6]{opacity:0;width:0;height:0}.publish-dot[data-v-871288e6]{cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#f0f0f0}.publish-dot[data-v-871288e6],.publish-dot[data-v-871288e6]:before{position:absolute;-webkit-transition:.3s;transition:.3s}.publish-dot[data-v-871288e6]:before{content:"";height:26px;width:26px;left:4px;bottom:-6px;background-color:#c4c4c4}[data-v-871288e6]:before{background-color:#df4141}.publish-dot.round[data-v-871288e6]{border-radius:34px}.publish-dot.round[data-v-871288e6]:before{border-radius:50%}input:checked+.publish-dot[data-v-871288e6]:before{-webkit-transform:translateX(16px);transform:translateX(16px);background-color:#df4141}',""]),t.exports=e},200:function(t,e,o){"use strict";o.r(e);o(48);var r,n=o(10),c=o(11),l=(o(3),o(4),o(5),o(6),o(30)),d=o(23),v={name:"ProjectCard",data:function(){return{}},props:{post:{type:Object,required:!0}},watch:{"post.active":function(t,e){this.active=t,this.updateActiveStatus()}},computed:{editIcon:function(){return o(189)},deleteIcon:function(){return o(190)}},methods:{updateActiveStatus:function(){var t=this.post,e=d.a.collection("posts").doc(t.doc_id);t.active;return e.update({active:t.active}).then((function(){console.log("success")})).catch((function(t){console.err("Error updating document",error)}))},deletePostForever:function(){var t=this.post;return d.a.collection("posts").doc(t.doc_id).delete().then((function(){alert("Your post has been successfully deleted."),window.location.reload(!0)})).catch((function(t){console.log("Oops! Looks like something went wrong",t)}))}}},h=(o(191),o(18)),f={name:"Dashboard",middleware:"authenticated",components:{ProjectCard:Object(h.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"flex project-card p-2 shadow-md mb-8"},[o("div",{staticClass:"mr-4 mt-6"},[o("div",[o("label",{staticClass:"active-switch round",attrs:{for:t.post.doc_id}},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.post.active,expression:"post.active"}],attrs:{type:"checkbox",id:t.post.doc_id},domProps:{checked:Array.isArray(t.post.active)?t._i(t.post.active,null)>-1:t.post.active},on:{change:function(e){var o=t.post.active,r=e.target,n=!!r.checked;if(Array.isArray(o)){var c=t._i(o,null);r.checked?c<0&&t.$set(t.post,"active",o.concat([null])):c>-1&&t.$set(t.post,"active",o.slice(0,c).concat(o.slice(c+1)))}else t.$set(t.post,"active",n)}}}),t._v(" "),o("span",{staticClass:"publish-dot round"})])])]),t._v(" "),o("div",[o("h2",{staticClass:"text-blue-dark text-lg lg:text-xl"},[t._v(t._s(t.post.title))]),t._v(" "),o("ul",{staticClass:"text-red list-none text-sm md:mb-2"},[o("li",{staticClass:"inline-block mr-2"},[t._v(t._s(t.post.languages))])])]),t._v(" "),o("div",{staticClass:"flex justify-between ml-auto"},[o("nuxt-link",{staticClass:"mr-4 cursor-pointer my-auto",attrs:{to:"/me/"+t.post.doc_id+"/edit",post:t.post}},[o("span",{staticClass:"fill-current text-darkgray hover:text-red",domProps:{innerHTML:t._s(t.editIcon)}})]),t._v(" "),o("button",{on:{click:t.deletePostForever}},[o("span",{staticClass:"fill-current text-darkgray hover:text-red cursor-pointer",domProps:{innerHTML:t._s(t.deleteIcon)}})])],1)])}),[],!1,null,"871288e6",null).exports},data:function(){return{posts:[]}},computed:Object(c.a)({},Object(l.c)(["user"]),{userPosts:function(){var t=this,e=this.posts.filter((function(e){if(e.user_id===t.user.uid)return e}));return e}}),asyncData:(r=Object(n.a)(regeneratorRuntime.mark((function t(e){var o,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.params,t.next=3,d.a.collection("posts").get();case 3:return o=t.sent,r=o.docs.map((function(t){var e=t,o=t.data();return{doc_id:e.id,title:o.title,languages:o.languages,active:o.active,user_id:o.user_id}})),t.abrupt("return",{posts:r});case 6:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},x=Object(h.a)(f,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container mx-auto p-4"},[o("div",{staticClass:"md:w-8/12 md:mx-auto"},[o("div",{staticClass:"flex justify-between mb-8"},[o("h1",{staticClass:"text-2xl lg:text-3xl text-red"},[t._v("Dashboard")]),t._v(" "),o("button",{staticClass:"button-base button-red text-xs shadow-md hover:shadow-lg"},[o("nuxt-link",{staticClass:"text-white font-bold",attrs:{to:"/addproject"}},[t._v("Add a Project")])],1)]),t._v(" "),o("div",{staticClass:"md:w-3/4"},[!t.userPosts.length>0?o("div",[o("p",{staticClass:"text-blue-light mb-4"},[t._v("Hey! It looks like you currently don't have any active posts. Click the 'Add a Project' button to add a new active listing.")]),t._v(" "),o("p",{staticClass:"text-blue-light"},[t._v("\n          You can also check out active projects from other users\n          "),o("nuxt-link",{staticClass:"text-red underline",attrs:{to:"/projectboard"}},[t._v("here")])],1)]):t._e(),t._v(" "),o("div",{staticClass:"v-else"},[o("ul",t._l(t.userPosts,(function(t){return o("li",{key:t.doc_id},[o("project-card",{staticClass:"mx-auto",attrs:{post:t}})],1)})),0)])])])])}),[],!1,null,null,null);e.default=x.exports}}]);